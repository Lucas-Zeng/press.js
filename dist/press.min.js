!function(e){"function"==typeof define&&define.amd?define(["ybase","kungfu"],function(n,t){e(n,t)}):e(window.YBase||window.Zepto||window.Jquery,window.kungfu)}(function(e,n){"undefined"!=typeof e&&(_on=e.fn.on,e.fn.on=function(t,o,s){if("press"!==t)return _on.apply(this,arguments),this;if("object"==typeof o){var c=navigator.userAgent.toLowerCase(),u=o,i=+u.delay||0,a=/android/.test(c)?(+u.duration||0)+300:+u.duration||0,d=+u.moveArea||7,r="function"==typeof u.onpress?u.onpress:function(){},h="function"==typeof u.onpressed?u.onpressed:function(){},f="function"==typeof u.onpresscancel?u.onpresscancel:function(){};Array.prototype.forEach.call(this,function(t){var o,s,c=!1,u=n().hit(function(){c=!0,r.call(t,this.drinks)},i).hit(function(){h.call(t,this.drinks),c=!1},a),l=function(e){o=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY,e.preventDefault(),c=!1,u.perform()},v=function(e){var n=e.changedTouches[0].clientX-o,t=e.changedTouches[0].clientY-s;hasMoved=n*n+t*t>d*d,"dead"!==u.status&&hasMoved&&(u.die(),"dead"==u.status&&(e.reason="moved",f.call(this,e)))},p=function(e){"dead"!==u.status&&(u.die(),"dead"==u.status&&(c?(e.reason="left",f.call(this,e)):this.click()))};e(t).css({"-webkit-touch-callout":"none","touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),t.addEventListener("touchstart",l),t.addEventListener("touchmove",v),t.addEventListener("touchend",p),t.event||(t.event={}),t.event.touchstart||(t.event.touchstart=[]),t.event.touchmove||(t.event.touchmove=[]),t.event.touchend||(t.event.touchend=[]),t.event.touchstart.push(l),t.event.touchmove.push(v),t.event.touchend.push(p)})}})});
//# sourceMappingURL=press.min.js.map
